<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Avatars, identicons, and hash visualization</title><meta name="description" content="Showing the workings of couple of commonly used hash visualization methods."/><link rel="stylesheet" href="/css/main.css"/><link rel="canonical" href="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/"/><link rel="alternate" type="application/rss+xml" title="Jussi Judin's weblog" href="https://feeds.feedburner.com/jussijudin"/><link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon-180x180.png"/><link rel="icon" type="image/png" href="/icons/favicon-32x32.png" sizes="32x32"/><link rel="icon" type="image/png" href="/icons/android-chrome-192x192.png" sizes="192x192"/><link rel="icon" type="image/png" href="/icons/favicon-96x96.png" sizes="96x96"/><link rel="icon" type="image/png" href="/icons/favicon-16x16.png" sizes="16x16"/><link rel="manifest" href="/icons/manifest.json"/><link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#00a300"/><meta name="msapplication-TileImage" content="/icons/mstile-144x144.png"/><meta name="theme-color" content="#ffffff"/><meta content="928229747232422" property="fb:app_id"/><meta content="Jussi Judin's weblog" property="og:site_name"/><meta content="Avatars, identicons, and hash visualization" property="og:title"/><meta content="article" property="og:type"/><meta content="Showing the workings of couple of commonly used hash visualization methods." property="og:description"/><meta content="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/" property="og:url"/><meta content="2018-02-04T18:00:09+02:00" property="article:published_time"/><meta content="https://barro.github.io/author/" property="article:author"/><meta property="og:image" content="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/id-cropped-800x400.png"/><meta content="identicon," property="article:tag"/><meta content="avatar," property="article:tag"/><meta content="visualization" property="article:tag"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@b4rr0"/><meta name="twitter:creator" content="@b4rr0"/><meta name="twitter:title" content="Avatars, identicons, and hash visualization"/><meta name="twitter:url" content="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/"/><meta name="twitter:description" content="Showing the workings of couple of commonly used hash visualization methods."/><meta name="twitter:image:src" content="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/id-square-400x400.png"/></head><body><header class="site-header"><div class="wrapper"><a class="site-title" href="/">Jussi Judin's weblog</a><nav class="site-nav"> <a href="#" class="menu-icon"> <svg viewBox="0 0 18 15"> <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/> <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/> <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/> </svg> </a><div class="trigger"> <a class="page-link" href="/archive/">Archive</a> <a class="page-link" href="/author/">Author</a> <a class="page-link" href="https://feeds.feedburner.com/jussijudin">RSS</a></div> </nav></div></header><div class="page-content"><div class="wrapper"><article class="post" itemscope="itemscope" itemtype="http://schema.org/BlogPosting"><meta itemprop="keywords" content="identicon,,avatar,,visualization"/> <span itemprop="publisher" itemscope="itemscope" itemtype="https://schema.org/Organization"> <span itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://barro.github.io/icons/parruki-60x60.png"/><meta itemprop="width" content="60"/><meta itemprop="height" content="60"/> </span><meta itemprop="name" content="ParruKi blog"/> </span><meta itemprop="description" content="Showing the workings of couple of commonly used hash visualization methods."/><meta itemscope="itemscope" itemprop="mainEntityOfPage" itemType="https://schema.org/WebPage" itemid="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/"/> <header class="post-header"><h1 class="post-title" itemprop="name headline">Avatars, identicons, and hash visualization</h1><p class="post-meta"><time datetime="2018-02-04T18:00:09+02:00" itemprop="datePublished dateModified">Sunday, Feb 4, 2018</time> • <span itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"> <span itemprop="name">Jussi Judin</span> </span> • <a itemprop="image" itemscope="itemscope" itemtype="https://schema.org/ImageObject" href="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/id-cropped-800x400.png"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMBAMAAADWlCNiAAAAD1BMVEUAAAA6xthe37LIDZfIuZ7+PV2EAAAAAXRSTlMAQObYZgAAAD5JREFUeAFjgAJGQUEBBgYmJSUFqADZEkBRoBxQFChnbMDAwGxMhoSLAwMDi4sgGEAUkS2BDJTAwBgEyJAAAIZIEL2Y2Y/vAAAAAElFTkSuQmCC" title="Article identicon" alt="Article identicon" width="48" height="12"/><meta itemprop="url" content="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/id-cropped-800x400.png"/><meta itemprop="width" content="800"/><meta itemprop="height" content="400"/> </a></p> </header><div class="post-content" itemprop="articleBody"><p>Oftentimes we have a situation where we have a situation where we want an easy way to distinguish people of which we only know the name or a nickname. Probably the most common examples of these are distinguishing different people from each other on various discussion platforms, like chat rooms, forums, wikis, or issue tracking systems. These very often provide the possibility to use handles, often real names or nicknames, and profile images as an alternative. But as very often people don’t provide any profile image, many services use a programmatically generated images to give some uniqueness to default profile images.</p><p>In this article I’ll take a look at a few approaches to generate default profile images and other object identifiers. I also take a look at the process of creating some specific hash visualization algorithms that you may have encountered on the web. The general name for such programmatically generated images is hash visualization.</p><h2 id="use-cases-and-background">Use cases and background</h2><p>A starting point to visualize arbitrary data is often <a href="https://en.wikipedia.org/wiki/Hash_function">hashing</a>. Hashing in this context is to make a fixed length representation of an arbitrary value. This fixed length representation is just a big number that can be then used as a starting point for distinguishing different things from each other.</p><p>Hash visualization aims to generate a visual identifier for easy differentiation of different objects that takes an advantage of <a href="https://en.wikipedia.org/wiki/Pre-attentive_processing">preattentive processing</a> of human visual system. There are various categories that human visual system uses to do preattentive processing, like <span style="border-bottom:1px dashed" title="Ware, Colin. Information visualization: perception for design. Elsevier, 2012.">form, color, motion, and spatial position</span>. Different hash visualization schemes knowingly or unknowingly take advantage of these.</p><p>Simple methods use specific colors as a visualization method, but at the same time limit the values that can be preattentively distinguished to maybe around 10-20 (around 4 bits of information) per colored area. Using additional graphical elements provides a possibility to create more distinct unique elements that are easy to separate from each other. <span title="Kilian, Timo. Visualization of Hash-functions. June 2012."><a href="https://www.secuso.informatik.tu-darmstadt.de/fileadmin/user_upload/Group_SECUSO/Theses/BA/Visualization_of_Hash-functions.pdf">One thesis</a></span> tries hash visualization with 60 bits of data with varying success. So the amount of visualized data that can be easily distinguished from each other by graphical means is somewhere between 4 and 60 bits.</p><h2 id="avatars">Avatars</h2><p>Perhaps the most common way to distinguish different users of an Internet based service is to use an user name and an avatar image. Avatars often go with custom avatar images that users themselves upload to the service. In case the service itself does not want to host avatars, it can link to services like <a href="https://gravatar.com">Gravatar</a> that provides avatar hosting as a service. This way user can use the same avatar in multiple services just by providing their email address.</p><p>But what about a situation where the user has not uploaded or does not want to upload an avatar image to the service? There usually is a placeholder image that indicates that the user has not set their custom avatar.</p><p>There seem to be three major approaches to generate this placeholder image:</p><ol><li>A generic dummy placeholder image. These often come in a shape of a generic human profile.</li><li>An image from predefined collection of images. These are usually related to a theme that the site wants to present.</li><li>A partially or fully algorithmically generated image. These usually make it possible to get the most variety for placeholders with the least amount of work.</li></ol><p>Algorithmically generated images vary greatly and usually come in three varieties:</p><ol><li>Simple images that mainly use a color and a letter to distinguish users.</li><li>Images that consist of a set of a predefined parts and color variations.</li><li>More complex shapes usually created fully algorithmically.</li></ol><p>I have taken a closer look at different algorithmic avatar creation methods in form of <a href="#wordpress-identicon">WordPress identicon</a>, <a href="#github-identicon">GitHub identicon</a>, and <a href="#monsterid">MonsterID</a>. These provide an overview on how algorithmic avatar generation can work. There is also a chapter of using <a href="#character-on-a-colored-background">a character on a colored background</a> to give an example of a simple algorithmic method for default avatar generation.</p><p>I want to focus here on visualizing the few methods that I have encountered rather than having a all-encompassing overview of avatar generation. For that, there is <a href="https://en.wikipedia.org/wiki/Avatar_(computing)">Avatar article on Wikipedia</a> that gives a better textual overview of these and many more methods than I could give.</p><h3 id="character-on-a-colored-background">Character on a colored background</h3><div class="text-center"> <figure class="inline-figure" id="colored-background-examples"> <a href="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/colored-background-examples-2880.png"> <picture><source type="image/webp" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/colored-background-examples-720.webp 720w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/colored-background-examples-960.webp 960w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/colored-background-examples-1152.webp 1152w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/colored-background-examples-1440.webp 1440w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/colored-background-examples-1920.webp 1920w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/colored-background-examples-2880.webp 2880w" sizes="720px, 960px, 1152px, 1440px, 1920px, 2880px"/> <source type="image/png" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/colored-background-examples-720.png 720w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/colored-background-examples-960.png 960w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/colored-background-examples-1152.png 1152w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/colored-background-examples-1440.png 1440w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/colored-background-examples-1920.png 1920w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/colored-background-examples-2880.png 2880w" sizes="720px, 960px, 1152px, 1440px, 1920px, 2880px"/><img src="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/colored-background-examples-720.png Avatar examples having a colored background with the first letter of an user name.""   alt="Avatar examples having a colored background with the first letter of an user name." width="720" height="120" class="figure-image" title="Avatar examples having a colored background with the first letter of an user name."/></picture> </a><figcaption> Figure 1: Avatar examples having a colored background with the first letter of an user name. </figcaption> </figure></div><p>Services like <a href="https://hangouts.google.com/">Google Hangouts</a>, <a href="https://telegram.org/">Telegram</a> and <a href="https://signal.org/">Signal</a>, and software with people collaboration functionality like <a href="https://www.atlassian.com/software/jira">Jira</a> generate a default avatar for an user by using the first letter of user’s name with a colored background. This is simple method where you need to select a font, a shape that you want to use to surround the letter, and size of the avatar. Some example avatars generated by this method are visible from <a href="#colored-background-examples">figure 1</a>.</p><h3 id="wordpress-identicon">WordPress identicon</h3><div class="text-center"> <figure class="inline-figure" id="identicon-examples"> <a href="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-examples-2880.png"> <picture><source type="image/webp" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-examples-720.webp 720w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-examples-960.webp 960w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-examples-1152.webp 1152w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-examples-1440.webp 1440w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-examples-1920.webp 1920w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-examples-2880.webp 2880w" sizes="720px, 960px, 1152px, 1440px, 1920px, 2880px"/> <source type="image/png" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-examples-720.png 720w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-examples-960.png 960w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-examples-1152.png 1152w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-examples-1440.png 1440w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-examples-1920.png 1920w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-examples-2880.png 2880w" sizes="720px, 960px, 1152px, 1440px, 1920px, 2880px"/><img src="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-examples-720.png Example WordPress identicons.""   alt="Example WordPress identicons." width="720" height="120" class="figure-image" title="Example WordPress identicons."/></picture> </a><figcaption> Figure 2: Example WordPress identicons. </figcaption> </figure></div><p><a href="https://wordpress.org/plugins/wp-identicon/">WordPress identicon</a> has been a well known algorithmically generated avatar for quite long time on web forums. It has been used to distinguish between users based on their <a href="https://en.wikipedia.org/wiki/IP_address">IP addresses</a> and <a href="https://en.wikipedia.org/wiki/Email_address">email addresses</a>. Example WordPress identicons can be seen from <a href="#identicon-examples">figure 2</a> where you should be able to notice that there is some symmetry in these images.</p><div class="text-center"> <figure class="inline-figure" id="identicon-parts"> <a href="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-parts-2900.png"> <picture><source type="image/png" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-parts-736.png 736w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-parts-920.png 920w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-parts-1104.png 1104w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-parts-1472.png 1472w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-parts-2208.png 2208w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-parts-2900.png 2900w" sizes="736px, 920px, 1104px, 1472px, 2208px, 2900px"/><img src="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-parts-736.png" alt="44 parts from which a WordPress identicon is generated." title="44 parts from which a WordPress identicon is generated." width="736" height="267" class="figure-image webfeedsFeaturedVisual"/></picture> </a><figcaption> Figure 3: 44 parts from which a WordPress identicon is generated. </figcaption> </figure></div><p>Looking at the code how these avatars are generated reveals 44 patterns, shown in <a href="#identicon-parts">figure 3</a> that the generators uses to generate these images. They are symmetrically placed around the center and rotated 90 degrees when they reach the next quadrant. This process is illustrated in <a href="#identicon-animated">figure 4</a> that shows how these parts are placed and rotated around the center. In case the requested identicon has an even number of parts, these parts will get duplicated. So 4x4 WordPress identicon will only have 3 distinct parts in it. This is the same number as for 3x3 WordPress identicon.</p><div class="text-center"> <figure class="inline-figure" id="identicon-animated"> <a href="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-480.gif"> <picture><!--[if IE 9]><video style="display:none"><![endif]--><source type="image/apng" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-120.apng 120w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-150.apng 150w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-180.apng 180w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-240.apng 240w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-360.apng 360w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-480.apng 480w" sizes="120px, 150px, 180px, 240px, 360px, 480px"/> <source type="image/webp" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-120.webp 120w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-150.webp 150w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-180.webp 180w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-240.webp 240w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-360.webp 360w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-480.webp 480w" sizes="120px, 150px, 180px, 240px, 360px, 480px"/> <source type="image/gif" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-120.gif 120w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-150.gif 150w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-180.gif 180w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-240.gif 240w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-360.gif 360w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-480.gif 480w" sizes="120px, 150px, 180px, 240px, 360px, 480px"/> <!--[if IE 9]></video><![endif]--><img src="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/identicon-animated-120.gif 5x5 WordPress identicon generation animated." alt="5x5 WordPress identicon generation animated." width="120" height="120" title="5x5 WordPress identicon generation animated."/></picture> </a><figcaption> Figure 4: 5x5 WordPress identicon generation animated. </figcaption> </figure></div><h3 id="github-identicon">GitHub identicon</h3><div class="text-center"> <figure class="inline-figure" id="github-identicon-examples"> <a href="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-examples-2880.png"> <picture><source type="image/webp" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-examples-720.webp 720w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-examples-1440.webp 1440w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-examples-2160.webp 2160w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-examples-2880.webp 2880w" sizes="720px, 1440px, 2160px, 2880px"/> <source type="image/png" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-examples-720.png 720w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-examples-1440.png 1440w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-examples-2160.png 2160w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-examples-2880.png 2880w" sizes="720px, 1440px, 2160px, 2880px"/><img src="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-examples-720.png Example GitHub style identicons.""   alt="Example GitHub style identicons." width="720" height="120" class="figure-image" title="Example GitHub style identicons."/></picture> </a><figcaption> Figure 5: Example GitHub style identicons. </figcaption> </figure></div><p><a href="https://github.com/">GitHub</a> is a great collaborative code repository sharing service where users can have identifying images. If user, however, does not have any profile image, <a href="https://github.com/blog/1586-identicons">GitHub will generate</a> an identicon that forms a 5x5 pixel sprite. <a href="#github-identicon-examples">Figure 5</a> examples how such identicons can look like. The exact algorithm that GitHub uses to generate these identicons is not public, so these example images just imitating the style of GitHub identicons.</p><div class="text-center"> <figure class="inline-figure" id="github-identicon-animated"> <a href="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-animated-480.gif"> <picture><!--[if IE 9]><video style="display:none"><![endif]--><source type="image/apng" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-animated-120.apng 120w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-animated-240.apng 240w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-animated-360.apng 360w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-animated-480.apng 480w" sizes="120px, 240px, 360px, 480px"/> <source type="image/webp" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-animated-120.webp 120w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-animated-240.webp 240w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-animated-360.webp 360w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-animated-480.webp 480w" sizes="120px, 240px, 360px, 480px"/> <source type="image/gif" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-animated-120.gif 120w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-animated-240.gif 240w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-animated-360.gif 360w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-animated-480.gif 480w" sizes="120px, 240px, 360px, 480px"/> <!--[if IE 9]></video><![endif]--><img src="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/github-identicon-animated-120.gif GitHub style identicon creation process animated. Visible pixels are horizontally mirrored." alt="GitHub style identicon creation process animated. Visible pixels are horizontally mirrored." width="120" height="120"/></picture> </a><figcaption> Figure 6: GitHub style identicon creation process animated. Visible pixels are horizontally mirrored. </figcaption> </figure></div><p><a href="#github-identicon-animated">Figure 6</a> shows the process of creating such identicon. Basically the given data is hashed and from that hash a specific color is selected as the value for a visible pixel. Then other part of the hash (15 bits) is used to form an image that is horizontally mirrored. I have used a modified <a href="https://github.com/chrisbranson/ruby_identicon">ruby_identicon</a> to generate these images and animations. This library also enables the generation of other sizes than 5x5 sprites.</p><h3 id="monsterid">MonsterID</h3><div class="text-center"> <figure class="inline-figure" id="monsterid-examples"> <a href="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-examples-720.png"> <picture><source type="image/webp" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-examples-720.webp 720w" sizes="720px"/> <source type="image/png" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-examples-720.png 720w" sizes="720px"/><img src="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-examples-720.png Example artistic MonsterIDs." alt="Example artistic MosterIDs." width="720" height="120" class="figure-image" title="Example artistic MosterIDs."/></picture> </a><figcaption> Figure 7: Example artistic MonsterIDs. </figcaption> </figure></div><p><a href="https://wordpress.org/plugins/wp-monsterid/">WordPress MonsterID</a> is a hash visualization method where hashes are converted to various types of monsters. It’s a one type of hash visualization method where lifelike creature is created from predefined body parts. WordPress MonsterID actually offers two types of monsters, the default ones and artistic ones. Here I’m showing some example artistic monsters in <a href="#monsterid-examples">figure 7</a> just because they look better than the default ones.</p><div class="text-center"> <figure class="inline-figure" id="monsterid-forming"> <a href="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-forming-720.png"> <picture><source type="image/webp" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-forming-720.webp 720w" sizes="720px"/> <source type="image/png" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-forming-720.png 720w" sizes="720px"/><img src="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-parts-736.png Creating an artistic MonsterID image by selecting and colorizing an appropriate part from each category." alt="Creating an artistic MonsterID image by selecting and colorizing an appropriate part from each category." width="720" height="360" class="figure-image" title="Creating an artistic MonsterID image by selecting and colorizing an appropriate part from each category."/></picture> </a><figcaption> Figure 8: Creating an artistic MonsterID image by selecting and colorizing an appropriate part from each category. </figcaption> </figure></div><p><a href="#monsterid-forming">Figure 8</a> shows the MonsterID creation process. First there is a lightly colored background on top of which we start forming the monster. We select a body part in order of legs, hair, arms, body, eyes, and mouth. These parts are show in <a href="#monsterid-parts">figure 9</a>. Then assign a color to the selected part, unless it’s one of the special cases. Then just overlay it on top of the image formed from previous parts. There are special cases that what parts should have a predefined color or be left uncolored, but that does not change the general monster creation process.</p><div class="text-center"> <figure class="inline-figure" id="monsterid-parts"> <a href="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-parts-2400.png"> <picture><source type="image/webp" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-parts-736.webp 736w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-parts-920.webp 920w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-parts-1104.webp 1104w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-parts-1472.webp 1472w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-parts-2208.webp 2400w" sizes="736px, 920px, 1104px, 1472px, 2400px"/> <source type="image/png" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-parts-736.png 736w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-parts-920.png 920w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-parts-1104.png 1104w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-parts-1472.png 1472w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-parts-2900.png 2400w" sizes="736px, 920px, 1104px, 1472px, 2400px"/><img src="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/monsterid-parts-736.png Parts from which a MonsterID is created divided into categories (hair, eyes, mouth, arms, body, and legs)." alt="Parts from which a MonsterID is created divided into categories (hair, eyes, mouth, arms, body, and legs)." width="736" height="221" class="figure-image" title="Parts from which a MonsterID is created divided into categories (hair, eyes, mouth, arms, body, and legs)."/></picture> </a><figcaption> Figure 9: Parts from which a MonsterID is created divided into categories (hair, eyes, mouth, arms, body, and legs). </figcaption> </figure></div><p>In addition to WordPress MonsterID plugin, <a href="https://en.gravatar.com/site/implement/images/">Gravatar</a> also supports old style MonsterIDs. These unfortunately do not as good as the artistic monsters in the WordPress MonsterID plugin and there is no option to select an alternative form for these avatars.</p><h2 id="openssh-visual-host-key">OpenSSH visual host key</h2><p>Hash visualization has also its place in cryptography. <a href="http://www.openssh.com/">OpenSSH</a> client has an option to display so called visual host keys.</p><p>When a SSH client connects to a remote server that it has not ever seen before, it needs to accept the public key of this server so that it can communicate with it securely. To prevent <a href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack">man-in-the-middle attacks</a>, user initiating the connection is supposed to verify that the host key indeed matches. An example message about host key verification request is shown in <a href="#ssh-hostkey-verification">figure 10</a>. The idea is, that either you have seen the this key beforehand or you have some other means to get this key fingerprint and verify that it indeed belongs to the server you are trying to connect to. How this works in practice or not, is a completely different discussion.</p><div> <figure style="max-width:100%;overflow:auto" class="inline-figure" id="ssh-hostkey-verification"><pre style="max-width: 100%; overflow: auto;">$ ssh example.com
The authenticity of host 'example.com (127.1.2.3)' can't be established.
RSA key fingerprint is SHA256:Cy86563vH6bGaY/jcsIsikpYOHvxZe/MVLJTcEQA3IU.
Are you sure you want to continue connecting (yes/no)?</pre><figcaption class="text-center"> Figure 10: The default SSH server key verification request on the first connection. </figcaption> </figure></div><p>As you can see, the key fingerprint is not easy to remember and also the comparison of two fingerprints can be quite hairy. When you enable visual host key support, as show in <a href="#ssh-first-connection-visualhostkey">figure 11</a>, the idea is that you can quickly glance to figure out if the key of a server is different than expected. This should not be treated as a method to see if two keys are equal, as different keys can produce the same image.</p><div> <figure style="max-width:100%;overflow:auto" class="inline-figure" id="ssh-first-connection-visualhostkey"><pre style="max-width: 100%; overflow: auto;">$ ssh -o VisualHostKey=true example.com
The authenticity of host 'example.com (127.1.2.3)' can't be established.
RSA key fingerprint is SHA256:Cy86563vH6bGaY/jcsIsikpYOHvxZe/MVLJTcEQA3IU.
+---[RSA 8192]----+
|     ..o.=+      |
|      . E.       |
|        . .      |
| .       o       |
|o o   + S o      |
|.+ o o + *       |
|o.. .o..B.o      |
|.o  o.*BB= .     |
|+ ...=o@@+o      |
+----[SHA-256]----+
Are you sure you want to continue connecting (yes/no)?</pre><figcaption class="text-center"> Figure 11: Visual host key enabled SSH server key verification request on the first connection. </figcaption> </figure></div><p>The algorithm to generate these visual host keys is visualized at <a href="#openssh-visualhostkey">figure 12</a>. It’s also described in detail in an article that analyzes the algorithmic security of this visual host key generation: <a href="http://www.dirk-loss.de/sshvis/drunken_bishop.pdf">The drunken bishop: An analysis of the OpenSSH fingerprint visualization algorithm</a>.</p><p>OpenSSH’s visual host key is formed in such way that the formation starts from the center of the image. Then 2 bits of the host key fingerprint are selected and the location is moved in a diagonal direction. The visual element on the plane where this movement happens is changed based on how many times a certain location is visited. This can be better seen from the animation where each visual host key generation step is visualized as its own frame and where the bits related to the movement are highlighted.</p><div class="text-center"> <figure class="inline-figure" id="openssh-visualhostkey"> <a href="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/openssh-visualkey-2048.gif"> <picture><!--[if IE 9]><video style="display:none"><![endif]--><source type="image/apng" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/openssh-visualkey-578.apng 578w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/openssh-visualkey-964.apng 964w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/openssh-visualkey-1412.apng 1412w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/openssh-visualkey-2048.apng 2048w" sizes="578px, 964px, 1412px, 2048px"/> <source type="image/webp" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/openssh-visualkey-578.webp 578w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/openssh-visualkey-964.webp 964w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/openssh-visualkey-1412.webp 1412w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/openssh-visualkey-2048.webp 2048w" sizes="578px, 964px, 1412px, 2048px"/> <source type="image/gif" srcset="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/openssh-visualkey-578.gif 578w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/openssh-visualkey-964.gif 964w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/openssh-visualkey-1412.gif 1412w,     https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/openssh-visualkey-2048.gif 2048w" sizes="578px, 964px, 1412px, 2048px"/> <!--[if IE 9]></video><![endif]--><img src="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/openssh-visualkey-578.gif OpenSSH visual host key generation animated.""   alt="OpenSSH visual host key generation animated." width="578" height="287" class="figure-image" title="OpenSSH visual host key generation animated"/></picture> </a><figcaption> Figure 12: OpenSSH visual host key generation animated. </figcaption> </figure></div><p>The exact details how the key is generated can be seen from <a href="https://github.com/openssh/openssh-portable/blob/77199d6ec8986d470487e66f8ea8f4cf43d2e20c/sshkey.c#L1044">OpenSSH’s source code</a>. This source code also refers to a paper called <span title="Perring, Adrian. Song, Dawn. Hash Visualization: a New Technique to improve Real-World Security."> <a href="http://www.netsec.ethz.ch/publications/papers/validation.pdf">Hash Visualization: a New Technique to improve Real-World Security</a></span>. But the fact that OpenSSH is usually limited to terminals with text interface makes it quite hard to use the more advanced <em>Random Art</em> methods described in the paper. But the idea for host key verification by using images has at least taken one form in the OpenSSH world.</p><h2 id="conclusions">Conclusions</h2><p>I presented here some methods that I have encountered over the years on various sites and programs. I can not possibly cover all of them, as there likely are as many algorithms to create avatars as there are people inventing them. The biggest question with any of these algorithms is that how many bits they should try to visualize and what types of graphical elements they can use in the visualization without just creating indistinguishable clutter.</p></div></article><div id="disqus_thread"></div> <script>var disqus_config=function(){this.page.url="https://barro.github.io/2018/02/avatars-identicons-and-hash-visualization/",this.page.identifier="/2018/02/avatars-identicons-and-hash-visualization"};!function(){var a=document,i=a.createElement("script");i.src="//barro.disqus.com/embed.js",i.setAttribute("data-timestamp",+new Date),(a.head||a.body).appendChild(i)}()</script></div></div><footer class="site-footer"><div class="wrapper"><h2 class="footer-heading">Jussi Judin's weblog</h2><div class="footer-col-wrapper"><div class="footer-col footer-col-1"><ul class="contact-list"><li>Jussi Judin</li><li>jju<span>din</span>+github <span>AT</span> iki DOT <span>f</span>i</li></ul></div><div class="footer-col footer-col-2"><ul class="social-media-list"><li> <a href="https://github.com/barro" title="Barro">GitHub</a></li><li> <a href="https://bitbucket.org/barro" title="barro">Bitbucket</a></li><li> <a href="https://facebook.com/b4rr0" title="B4rr0">Facebook</a></li><li> <a href="https://twitter.com/B4rr0" title="@B4rr0">Twitter</a></li><li> <a href="https://plus.google.com/+JussiJudin-jj/" title="+JussiJudin-jj">Google+</a></li></ul></div><div class="footer-col footer-col-3"><p>Programming related topics. Maybe even some original content!</p></div></div></div></footer><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-71880517-1","auto"),ga("send","pageview")</script></body></html>